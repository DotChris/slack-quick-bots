<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Slack-quick-bots by usubram</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Slack-quick-bots</h1>
      <h2 class="project-tagline">A slack bot solution for enterprise</h2>
      <a href="https://github.com/usubram/slack-quick-bots" class="btn">View on GitHub</a>
      <a href="https://github.com/usubram/slack-quick-bots/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/usubram/slack-quick-bots/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="slack-quick-bots" class="anchor" href="#slack-quick-bots" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>slack-quick-bots</h1>

<p><a href="https://badge.fury.io/js/slack-quick-bots"><img src="https://badge.fury.io/js/slack-quick-bots.svg" alt="npm version"></a>
<a href="https://travis-ci.org/usubram/slack-quick-bots"><img src="https://api.travis-ci.org/usubram/slack-quick-bots.svg" alt="Build Status"></a></p>

<p>Slack is awesome!! and this is slack bot solution for enterprise.</p>

<h2>
<a id="why-slack-quick-bots" class="anchor" href="#why-slack-quick-bots" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why slack-quick-bots</h2>

<p>STOP writing code for your bot, just pass your data to this module and rest is taken care.</p>

<p>slack-quick-bots is another slack bot module to help create multiple bots with very minimal code.</p>

<p>Basically, with <code>slack-quick-bots</code> running in a single machine you could run multiple bots all doing different operation or pulling data from different sources.</p>

<p>Some of the salient features</p>

<ul>
<li> Pre-defined bot command behaviors with user preferred command name. Pre-defined command includes <code>data</code>, <code>recursive</code>, <code>alert</code> and predefined stop command.</li>
<li> Seamlessly use multiple bot inside same channel. Just do <a href="https://github.com/botname" class="user-mention">@botname</a> {command} or {botname}</li>
<li> Auto generated contextual help/error messages, so just setup the bot and forget it.</li>
<li> Configurable command param for great control.</li>
<li> Block direct message to a bot and hence bot could only respond in a public channel, now you know who is using the bot (sounds simple but a killer feature).</li>
<li> Log support. Simple console or winston like, your choice.</li>
<li> exciting features to follow soon.</li>
</ul>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h2>

<p>Install the module with: <code>npm install slack-quick-bots</code></p>

<h2>
<a id="step-1" class="anchor" href="#step-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 1:</h2>

<p>Go to <a href="https://my.slack.com/services/new/bot">https://my.slack.com/services/new/bot</a> - Create a bot with a cool name!! and don't forgot to 
make a note of the bot token.</p>

<h2>
<a id="step-2" class="anchor" href="#step-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 2:</h2>

<p>Do <code>npm install slack-quick-bots</code> in your app. Set up the below <code>config</code> by defining your bots (You read it right, you can define <code>n</code> number of bot for different purpose with just this 3 steps) , commands and bind the data to your data source as a callback.</p>

<h2>
<a id="step-3" class="anchor" href="#step-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 3:</h2>

<p>To get started immediately, try <a href="https://github.com/usubram/slack-quick-bots/blob/master/sample.js">sample.js</a></p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> SlackBot <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>slack-quick-bots<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> mybots <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">SlackBot</span>(config);
<span class="pl-smi">mybots</span>.<span class="pl-c1">start</span>(); <span class="pl-c">// 'awesome'</span></pre></div>

<h2>
<a id="finally" class="anchor" href="#finally" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Finally:</h2>

<p>Ping the bot with your custom command or add the bot to the channel/group to watch the fun.</p>

<p>Pass few information in the <code>config</code> and is all you need for the bot. With the below config are running a bot with command,</p>

<h3>
<a id="dm-to-bot" class="anchor" href="#dm-to-bot" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DM to bot:</h3>

<ul>
<li><p><code>traffic 2</code> bot will respond back <code>Total of 3000 visits in the last 2 mins</code> [sample.hbs].</p></li>
<li><p><code>error 5</code> bot for every 5 mins will respond back with <code>10 errors in the last 5 mins</code>.</p></li>
<li><p><code>stop error</code> will stop the recursive alerts.</p></li>
</ul>

<h3>
<a id="bot-in-channelgroup" class="anchor" href="#bot-in-channelgroup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Bot in channel/group:</h3>

<p>If you add the bot to a channel, message had to appended with the bot name <code>{botname} ping 2</code>.</p>

<div class="highlight highlight-source-js"><pre>{
  bots<span class="pl-k">:</span> [{
  botCommand<span class="pl-k">:</span> {
    <span class="pl-s"><span class="pl-pds">'</span>traffic<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
      commandType<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>DATA<span class="pl-pds">'</span></span>,
      allowedParam<span class="pl-k">:</span> [],
      lowerLimit<span class="pl-k">:</span> <span class="pl-c1">1</span>,
      upperLimit<span class="pl-k">:</span> <span class="pl-c1">5</span>,
      defaultParamValue<span class="pl-k">:</span> <span class="pl-c1">5</span>,
      <span class="pl-en">template</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">return</span> <span class="pl-smi">handlebars</span>.<span class="pl-c1">compile</span>({sampleTemplate});
      },
      <span class="pl-en">data</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">command</span>, <span class="pl-smi">param</span>, <span class="pl-smi">callback</span>) {
        <span class="pl-en">callback</span>({data<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>data fetched from service<span class="pl-pds">'</span></span>});
      }
    },
    <span class="pl-s"><span class="pl-pds">'</span>error<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
      commandType<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>RECURSIVE<span class="pl-pds">'</span></span>,
      lowerLimit<span class="pl-k">:</span> <span class="pl-c1">1</span>,
      upperLimit<span class="pl-k">:</span> <span class="pl-c1">5</span>,
      timeUnit<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>m<span class="pl-pds">'</span></span>,
      defaultParamValue<span class="pl-k">:</span> <span class="pl-c1">5</span>,
      <span class="pl-en">template</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">return</span> <span class="pl-smi">handlebars</span>.<span class="pl-c1">compile</span>(sampleTemplate);
      },
      <span class="pl-en">data</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">command</span>, <span class="pl-smi">param</span>, <span class="pl-smi">callback</span>) {
        <span class="pl-en">callback</span>({data<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>data fetched from service<span class="pl-pds">'</span></span>});
      }
    },
    <span class="pl-s"><span class="pl-pds">'</span>alert<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
      commandType<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>ALERT<span class="pl-pds">'</span></span>,
      lowerLimit<span class="pl-k">:</span> <span class="pl-c1">1</span>,
      upperLimit<span class="pl-k">:</span> <span class="pl-c1">5</span>,
      timeUnit<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>m<span class="pl-pds">'</span></span>,
      defaultParamValue<span class="pl-k">:</span> <span class="pl-c1">5</span>,
      <span class="pl-en">template</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">return</span> <span class="pl-smi">handlebars</span>.<span class="pl-c1">compile</span>(sampleTemplate);
      },
      <span class="pl-en">data</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">command</span>, <span class="pl-smi">param</span>, <span class="pl-smi">callback</span>) {
        <span class="pl-en">callback</span>({data<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>data fetched from service<span class="pl-pds">'</span></span>});
      }
    }
  },
  botToken<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>
  }]
}</pre></div>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>

<p><em>( More coming soon)</em></p>

<p><code>bots</code> - Array to hold bots information.</p>

<p><code>botToken</code> - Holds the slack api bot token.</p>

<p><code>botCommand</code> - Object to hold all the fancy command that you would like. Object key is command,
so no spaces, try to keep it short and nice for some to remember.</p>

<p><code>commandType</code> - Currently, only data, recursive commands are supported.</p>

<p><code>Data</code> - Any data, but mind the limit size of the websocket.</p>

<p><code>Recursive</code> - Have this command send your data recursive for a configurable time (minutes/hours)</p>

<p><code>alert</code> - Have this command send your alert for a configurable time (minutes/hours) when the data has
  a dip or a peak. This command basically takes a series of data and computes the variance between them and
  alerts. Make sure to pass a even number of events.</p>

<p><code>timeUnit</code> - This attribute is for <code>Recursive</code> command. Currently, accepts, <code>h</code> for hours and <code>s</code> for minutes. Default - <code>m</code>.</p>

<p><code>template</code> - This take the <em>compiled</em> handlebars template for the data that you would be sending.</p>

<p><code>data</code> - This takes a callback with which the data will be given to the bot.</p>

<p><code>blockDirectMessage</code> - Block a bot from responding to a DM and hence only allowing it to respond in a public channel.</p>

<h2>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Examples</h2>

<p><em>(Coming soon)</em></p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p><em>(Coming soon)</em></p>

<h2>
<a id="release-history" class="anchor" href="#release-history" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Release History</h2>

<p><em>(Nothing yet)</em></p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Copyright (c) 2016 Umashankar Subramanian<br>
Licensed under the MIT license.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/usubram/slack-quick-bots">Slack-quick-bots</a> is maintained by <a href="https://github.com/usubram">usubram</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
